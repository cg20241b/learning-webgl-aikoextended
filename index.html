<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGL Graphics App</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000;
        }
        canvas {
            width: 80%;
            height: 80%;
            border: 1px solid #fff;
        }
    </style>
</head>
<body>
    <canvas id="glCanvas"></canvas>
    <script>
        // Inisialisasi WebGL
        const canvas = document.getElementById('glCanvas');
        const gl = canvas.getContext('webgl');

        if (!gl) {
            alert("WebGL tidak didukung oleh browser Anda.");
        }

        // Atur viewport sesuai dengan ukuran kanvas
        gl.viewport(0, 0, canvas.width, canvas.height);

        // Shader vertex
        const vertexShaderSource = `
            attribute vec2 aPosition;
            void main() {
                gl_Position = vec4(aPosition, 0.0, 1.0);
            }
        `;

        // Shader fragment dengan warna sebagai uniform
        const fragmentShaderSource = `
            precision mediump float;
            uniform vec4 uColor;
            void main() {
                gl_FragColor = uColor;
            }
        `;

        // Fungsi untuk membuat shader
        function createShader(gl, type, source) {
            const shader = gl.createShader(type);
            gl.shaderSource(shader, source);
            gl.compileShader(shader);
            const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);
            if (success) {
                return shader;
            }
            console.error("Shader gagal dikompilasi:", gl.getShaderInfoLog(shader));
            gl.deleteShader(shader);
        }

        // Fungsi untuk membuat program
        function createProgram(gl, vertexShader, fragmentShader) {
            const program = gl.createProgram();
            gl.attachShader(program, vertexShader);
            gl.attachShader(program, fragmentShader);
            gl.linkProgram(program);
            const success = gl.getProgramParameter(program, gl.LINK_STATUS);
            if (success) {
                return program;
            }
            console.error("Program gagal di-link:", gl.getProgramInfoLog(program));
            gl.deleteProgram(program);
        }

        const vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);
        const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);
        const program = createProgram(gl, vertexShader, fragmentShader);

        if (!program) {
            throw new Error("Program WebGL gagal dibuat.");
        }

        // Data posisi huruf "P", "U", dan "T" sebagai LINES
        const verticesLines = new Float32Array([
            // Huruf "P"
            // Garis vertikal
            -0.8, 0.8,
            -0.8, -0.8,

            // Garis horizontal atas
            -0.8, 0.8,
            -0.4, 0.8,

            // Garis vertikal kecil
            -0.4, 0.8,
            -0.4, 0.0,

            // Garis horizontal tengah
            -0.8, 0.0,
            -0.4, 0.0,

            // Huruf "U"
            // Garis vertikal kiri
            -0.2, 0.8,
            -0.2, -0.8,

            // Garis horizontal bawah
            -0.2, -0.8,
            0.2, -0.8,

            // Garis vertikal kanan
            0.2, 0.8,
            0.2, -0.8,

            // Huruf "T"
            // Garis horizontal atas
            0.4, 0.8,
            0.8, 0.8,

            // Garis vertikal
            0.6, 0.8,
            0.6, -0.8
        ]);

        // Data posisi huruf "P", "U", dan "T" sebagai TRIANGLES
        const verticesTriangles = new Float32Array([
            // Huruf "P"
            // Persegi panjang vertikal
            -0.8, 0.8,
            -0.8, -0.8,
            -0.76, -0.8,

            -0.8, 0.8,
            -0.76, -0.8,
            -0.76, 0.8,

            // Persegi panjang horizontal atas
            -0.8, 0.8,
            -0.4, 0.8,
            -0.4, 0.73,

            -0.8, 0.8,
            -0.4, 0.73,
            -0.8, 0.73,

            // Persegi panjang vertikal kecil
            -0.4, 0.8,
            -0.4, -0.035,
            -0.37, -0.035,

            -0.4, 0.8,
            -0.37, -0.035,
            -0.37, 0.8,


            // Persegi panjang horizontal bawah
            -0.8, 0.02,
            -0.4, 0.02,
            -0.4, -0.04,

            -0.8, 0.02,
            -0.4, -0.04,
            -0.8, -0.04,


            // Huruf "U"
            // Persegi panjang vertikal kiri
            -0.2, 0.8,
            -0.2, -0.76,
            -0.16, -0.76,

            -0.2, 0.8,
            -0.16, -0.76,
            -0.16, 0.8,

            // Persegi panjang horizontal bawah
            -0.2, -0.71,
            0.24, -0.71,
            0.24, -0.8,

            -0.2, -0.71,
            0.24, -0.8,
            -0.2, -0.8,

            // Persegi panjang vertikal kanan
            0.2, 0.8,
            0.2, -0.76,
            0.24, -0.76,

            0.2, 0.8,
            0.24, -0.76,
            0.24, 0.8,

            // Huruf "T"
            // Persegi panjang horizontal atas
            0.4, 0.8,
            0.84, 0.8,
            0.84, 0.72,

            0.4, 0.8,
            0.84, 0.72,
            0.4, 0.72,

            // Persegi panjang vertikal
            0.6, 0.8,
            0.6, -0.8,
            0.64, -0.8,

            0.6, 0.8,
            0.64, -0.8,
            0.64, 0.8           

        ]);

// Membuat buffer dan menghubungkan atribut
const buffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
const aPosition = gl.getAttribLocation(program, 'aPosition');
gl.enableVertexAttribArray(aPosition);
gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, false, 0, 0);
const uColor = gl.getUniformLocation(program, 'uColor');

// Fungsi untuk menggambar huruf
function drawLetters(mode, color, vertices) {
    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
    gl.uniform4fv(uColor, color);
    gl.drawArrays(mode, 0, vertices.length / 2);
}

// Fungsi untuk menggambar awal (LINES)
function initialDraw() {
    gl.clearColor(0.0, 0.0, 0.0, 1.0); // Hitam
    gl.clear(gl.COLOR_BUFFER_BIT);
    gl.useProgram(program);
    drawLetters(gl.LINES, [0.46, 0.58, 1.0, 1.0], verticesLines);
}

// Fungsi untuk menggambar ulang setiap 3 detik
function animate() {
    let isLine = false;

    setInterval(() => {
        gl.clearColor(isLine ? 0.0 : 0.46, isLine ? 0.0 : 0.58, isLine ? 0.0 : 1.0, 1.0);
        gl.clear(gl.COLOR_BUFFER_BIT);
        gl.useProgram(program);

        if (isLine) {
            drawLetters(gl.LINES, [0.46, 0.58, 1.0, 1.0], verticesLines);
        } else {
            drawLetters(gl.TRIANGLES, [1.0, 0.65, 0.0, 1.0], verticesTriangles);
        }

        isLine = !isLine; // Toggle mode
    }, 3000); // 3000 milidetik = 3 detik
}

// Panggil fungsi gambar awal dan animasi
initialDraw();
animate();


    </script>
</body>
</html>
